"use client";

import { motion, useInView } from "framer-motion";
import { useRef, useState } from "react";
import { ChevronDown, ChevronUp } from "lucide-react";

export default function FAQ() {
  const ref = useRef(null);
  const isInView = useInView(ref, { once: true, margin: "-100px" });
  const [openIndex, setOpenIndex] = useState<number | null>(null);

  const faqs = [
    {
      question: "Что такое AI-аудит?",
      answer: "AI-аудит — это бесплатный анализ ваших бизнес-процессов, который показывает, где AI может сэкономить деньги и время. Мы изучаем ваши процессы, считаем затраты на рутину, проектируем решение и честно говорим, окупится ли оно. Если AI не подходит — скажем сразу, без продаж.",
    },
    {
      question: "Сколько времени занимает аудит?",
      answer: "Первичный анализ — 1-2 дня после получения информации о ваших процессах. Полный аудит с архитектурой решения и расчётом ROI — 3-5 рабочих дней. Всё зависит от сложности ваших процессов. Вы получаете отчёт с конкретными рекомендациями и цифрами.",
    },
    {
      question: "Что если AI не подходит?",
      answer: "Если в ходе аудита мы поймём, что AI не даст значимого эффекта или не окупится — мы честно скажем об этом. Мы не продаём AI ради AI, наша цель — решить вашу бизнес-задачу. В этом случае вы получите рекомендации по альтернативным подходам без дополнительных затрат. Бесплатный аудит защищает вас от неэффективных инвестиций.",
    },
    {
      question: "Какие результаты можно ожидать?",
      answer: "В типичных проектах: экономия 30-60% операционных затрат, снижение времени на рутину на 40-70%, рост скорости обработки запросов на 20-40%. Конкретные цифры зависят от ваших процессов и будут рассчитаны в рамках бесплатного AI-аудита. Окупаемость проектов обычно составляет 1-3 месяца.",
    },
    {
      question: "Сколько реально можно сэкономить с AI-автоматизацией?",
      answer: "Типичные результаты наших клиентов: экономия 30-60% операционных затрат, снижение времени на рутину на 40-70%, рост скорости обработки запросов на 20-40%. Конкретные цифры зависят от ваших процессов и будут рассчитаны в рамках бесплатного AI-аудита. Окупаемость проектов обычно составляет 1-3 месяца.",
    },
    {
      question: "Что если AI не даст результата для нашего бизнеса?",
      answer: "Если в ходе аудита или разработки прототипа мы поймём, что AI не даст значимого эффекта или не окупится — мы честно скажем об этом. Мы не продаём AI ради AI, наша цель — решить вашу бизнес-задачу. В этом случае вы получите рекомендации по альтернативным подходам без дополнительных затрат. Бесплатный аудит защищает вас от неэффективных инвестиций.",
    },
    {
      question: "Сколько стоит внедрение AI-автоматизации?",
      answer: "Стоимость зависит от сложности задачи и объёма работ. AI-аудит (анализ процессов и расчёт ROI) — бесплатно. Proof of Concept — от 500 000 ₽, полное внедрение — от 1 500 000 ₽. Точную стоимость рассчитаем после аудита ваших процессов. В большинстве случаев экономия от автоматизации покрывает затраты за 1-3 месяца.",
    },
    {
      question: "За какой срок можно внедрить AI-автоматизацию?",
      answer: "Прототип (MVP) — 2-4 недели. Полное внедрение — 7-21 день для типовых задач, 2-4 месяца для комплексных решений. Сроки зависят от сложности интеграции и объёма данных.",
    },
    {
      question: "Какие бизнес-процессы можно автоматизировать с помощью AI?",
      answer: "Чаще всего автоматизируем: обработку заявок и обращений клиентов, ответы на типовые вопросы в поддержке, обработку документов (накладные, акты, договоры), квалификацию лидов, назначение встреч, ввод данных в системы. В рамках бесплатного аудита мы определим, что имеет смысл автоматизировать в вашем случае.",
    },
    {
      question: "Нужен ли доступ к нашей CRM или другим системам для аудита?",
      answer: "Нет, для начального аудита достаточно описания процессов и задач. Если понадобится доступ к данным для точного расчёта — мы работаем по NDA и соблюдаем все требования безопасности. Можно работать с анонимизированными данными или только с описанием процессов.",
    },
    {
      question: "Как измерить эффективность внедрённой автоматизации?",
      answer: "Мы фиксируем KPI до старта проекта: время обработки запросов, нагрузка на команду, количество ошибок, затраты на операции, количество обработанных запросов. После внедрения сравниваем метрики и рассчитываем ROI. Типичные результаты: экономия 40-70% времени на рутине, снижение операционных затрат на 30-50%, рост конверсии лидов на 25-40%. Все метрики измеряем в цифрах.",
    },
    {
      question: "Нужна ли техническая экспертиза от нашей стороны?",
      answer: "Нет, техническая экспертиза не обязательна. Мы работаем с вами как с бизнесом: вы описываете задачи и процессы, мы проектируем и внедряем решение. При необходимости обучаем вашу команду работе с системой.",
    },
    {
      question: "Как обеспечивается безопасность данных?",
      answer: "Работаем по NDA, используем роли и доступы, логируем действия. Данные хранятся в соответствии с требованиями безопасности. При необходимости можем работать полностью on-premise (без передачи данных в облако).",
    },
  ];

  return (
    <section
      ref={ref}
      className="py-24 sm:py-32 relative overflow-hidden"
    >
      <div className="absolute inset-0 bg-background-secondary" />
      <div className="absolute inset-0 subtle-grid opacity-30" />

      <div className="container mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
        <motion.div
          initial={{ opacity: 0, y: 30 }}
          animate={isInView ? { opacity: 1, y: 0 } : { opacity: 0, y: 30 }}
          transition={{ duration: 0.8, ease: "easeOut" }}
          className="text-center mb-16"
        >
          <h2 className="text-3xl sm:text-4xl md:text-5xl font-bold mb-4 text-white">
            Часто задаваемые вопросы
          </h2>
          <p className="text-lg sm:text-xl text-gray-400 max-w-2xl mx-auto">
            Ответы на популярные вопросы об AI-автоматизации
          </p>
        </motion.div>

        <div className="max-w-3xl mx-auto space-y-4">
          {faqs.map((faq, index) => (
            <motion.div
              key={index}
              initial={{ opacity: 0, y: 20 }}
              animate={isInView ? { opacity: 1, y: 0 } : { opacity: 0, y: 20 }}
              transition={{
                duration: 0.6,
                delay: index * 0.1,
                ease: "easeOut",
              }}
              className="card border border-white/10 overflow-hidden"
            >
              <button
                onClick={() => setOpenIndex(openIndex === index ? null : index)}
                className="w-full p-6 text-left flex items-center justify-between gap-4 hover:bg-white/5 transition-colors"
              >
                <h3 className="text-lg font-semibold text-white pr-8">
                  {faq.question}
                </h3>
                {openIndex === index ? (
                  <ChevronUp className="w-5 h-5 text-gray-400 flex-shrink-0" />
                ) : (
                  <ChevronDown className="w-5 h-5 text-gray-400 flex-shrink-0" />
                )}
              </button>
              {openIndex === index && (
                <div className="px-6 pb-6">
                  <p className="text-gray-400 leading-relaxed">
                    {faq.answer}
                  </p>
                </div>
              )}
            </motion.div>
          ))}
        </div>
      </div>
    </section>
  );
}

